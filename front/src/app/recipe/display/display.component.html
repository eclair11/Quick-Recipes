<div class="container">
  <div class="mt-3 mb-3 row">
    <button class="btn btn-danger col-2" type="button" (click)="back()">Retour</button>
    <h1 class="text-center col-8">{{recipe.name}}</h1>
    <button *ngIf="showfav()" class="btn btn-success col-2" type="button" (click)="favorite()">
      Mettre en favori
    </button>
    <button *ngIf="showunfav()" class="btn btn-primary col-2" type="button" (click)="unfavorite()">
      Supprimer des favoris
    </button>
  </div>
</div>

<div class="container notfound" [hidden]="recipe.name != null">
  <h4 class="text-center">Pas d'informations disponibles pour cette recette.</h4>
</div>

<mat-tab-group mat-align-tabs="center" class="text-center" [hidden]="recipe.name == null">
  <mat-tab label="Introduction">
    <div class="container">
      <div class="row justify-content-center">
        <div class="table-responsive col">
          <table class="table">
            <tbody>
              <tr>
                <td>Région</td>
                <td>{{recipe.region}}</td>
              </tr>
              <tr>
                <td>Date de découverte</td>
                <td>{{recipe.discovery}}</td>
              </tr>
              <tr>
                <td>Auteur de la recette</td>
                <td>{{recipe.author}}</td>
              </tr>
              <tr>
                <td>Calories</td>
                <td>{{recipe.calorie}}</td>
              </tr>
              <tr>
                <td>Catégorie</td>
                <td>
                  <h5>
                    <span *ngFor="let cat of recipe.categories" class="badge badge-pill badge-primary">{{cat}}</span>
                  </h5>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="card card-custom col">
          <div class="card-body">
            <h4 class="card-title text-center">Histoire</h4>
            <p>{{recipe.history}}</p>
          </div>
        </div>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Images">
    <div class="container">
      <div class="row">
        <div *ngFor="let pic of recipe.pictures" class="col-6">
          <img class="img img-thumbnail" alt="img" [src]="pic">
        </div>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Ingrédients et préparation">
    <div class="container">
      <div class="row justify-content-center">
        <div class="card card-custom col">
          <div class="card-body">
            <h4 class="card-title text-center">Les ingrédients</h4>
            <mat-list role="list">
              <mat-list-item *ngFor="let ing of recipe.ingredients" role="listitem">{{ing}}</mat-list-item>
            </mat-list>
          </div>
        </div>
        <div class="card card-custom col">
          <div class="card-body">
            <h4 class="card-title text-center">Méthode de préparation</h4>
            <mat-list role="list">
              <mat-list-item *ngFor="let prep of recipe.preparations" role="listitem">{{prep}}</mat-list-item>
            </mat-list>
          </div>
        </div>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Recommandation IA"></mat-tab>
</mat-tab-group>